<template>
  <!-- ä¸€é”®é‡ç½®æ¸¸æˆæŒ‰é’® -->
  <button id="resetGameToggle" class="control-button reset-game-toggle" @click="resetGame" title="ä¸€é”®é‡ç½®æ¸¸æˆ">
    ğŸ”„
  </button>
  
  <!-- å¯¼å…¥å¯¼å‡ºæ§åˆ¶æŒ‰é’® -->
  <button id="importExportToggle" class="control-button import-export-toggle" @click="openImportExport" title="å¯¼å…¥å¯¼å‡º">
    ğŸ“¤
  </button>
  
  <!-- æš—é»‘æ¨¡å¼åˆ‡æ¢æŒ‰é’® -->
  <button id="darkModeToggle" class="control-button dark-mode-toggle" @click="toggleDarkMode" :title="darkMode ? 'åˆ‡æ¢ä¸ºäº®è‰²æ¨¡å¼' : 'åˆ‡æ¢ä¸ºæš—é»‘æ¨¡å¼'">
    {{ darkMode ? 'ğŸŒ™' : 'â˜€ï¸' }}
  </button>
</template>

<script setup>
defineProps({
  darkMode: {
    type: Boolean,
    required: true
  }
})

const emit = defineEmits(['reset-game', 'open-import-export', 'toggle-dark-mode'])

const resetGame = () => {
  emit('reset-game')
}

const openImportExport = () => {
  emit('open-import-export')
}

const toggleDarkMode = () => {
  emit('toggle-dark-mode')
}
</script>

<style scoped lang="less">
@import '@/styles/variable.less';

// æ§åˆ¶æŒ‰é’®å…±ç”¨æ ·å¼
.control-button {
  position: fixed;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background-color: #333;
  border: 1px solid #555;
  color: #888;
  font-size: 14px;
  cursor: pointer;
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  
  &:hover {
    background-color: #444;
    transform: scale(1.05);
  }
}

/* ä¸€é”®é‡ç½®æ¸¸æˆæŒ‰é’® */
.reset-game-toggle {
  bottom: 15px;
  right: 107px;
  
  &:hover {
    color: #ff6666;
    border-color: #ff6666;
    box-shadow: 0 0 6px rgba(255, 102, 102, 0.5);
  }
}

/* å¯¼å…¥å¯¼å‡ºæ§åˆ¶æŒ‰é’® */
.import-export-toggle {
  bottom: 15px;
  right: 61px;
}

/* æš—é»‘æ¨¡å¼åˆ‡æ¢æŒ‰é’® */
.dark-mode-toggle {
  bottom: 15px;
  right: 15px;
}

.import-export-toggle, .dark-mode-toggle {
  &:hover {
    color: @primary-color;
    border-color: @primary-color;
    box-shadow: 0 0 6px rgba(212, 175, 55, 0.5);
  }
}

/* äº®è‰²æ¨¡å¼æ ·å¼ */
body.light-mode {
  .control-button {
    background-color: #e0e0e0;
    color: #999;
    border-color: #ccc;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);

    &:hover {
      background-color: #f0f0f0;
    }
  }
  
  .reset-game-toggle {
    &:hover {
      color: #ff6666;
      border-color: #ff6666;
      box-shadow: 0 0 6px rgba(255, 102, 102, 0.3);
    }
  }
  
  .import-export-toggle, .dark-mode-toggle {
    &:hover {
      color: @light-primary-color;
      border-color: @light-primary-hover-color;
      box-shadow: 0 0 6px rgba(0, 0, 0, 0.3);
    }
  }
}
</style>